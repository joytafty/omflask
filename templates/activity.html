{% extends "base.html" %}
{% block title %}
<title>Physical Activity</title>
{% endblock %}

{% block headscript %}
<!-- flot charts -->
<script src="{{ url_for('static', filename='js/jquery.flot.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.flot.stack.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.flot.resize.js') }}"></script>
<!-- morrisjs -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="{{ url_for('static', filename='js/morris.min.js') }}"></script>
<!-- call all plugins -->
<script src="{{ url_for('static', filename='js/theme.js') }}"></script>

<!-- Loading Google Visualization Library -->
<script type='text/javascript' src='https://www.google.com/jsapi'></script>
<script type="text/javascript" src="{{url_for('static', filename='js/google-spreadsheet.js') }}"></script>
<script type='text/javascript'>
	google.load('visualization', '1', {packages:['corechart','gauge', 'ColumnChart', 'Table']});
	google.setOnLoadCallback(drawPhys);
  google.setOnLoadCallback(drawStep);

// Physical Activity
      function drawPhys() {
        var options = {
          'showRowNumber': true, 
          'allowHtml': true, 
          width: '80%', 
          height: '110%'
        };
        var d = google.visualization.arrayToDataTable([
          ['Measurements', 'Your Measure', 'Ideal Range', 'Notes'],
          ['Average daily steps', 0, 0, true],
          ['Resting heart rate (bmp)', 0, 0, true]
        ]);
          // Create and draw the visualization.
      var dash = new google.visualization.Table(document.getElementById('phys_div'));
      dash.draw(d, options);
      }

      // FitBit Steps
      function drawStep() {
        // Create and populate the data table.
        var data = google.visualization.arrayToDataTable([
          ['Day', 'Week1', 'Week2', 'Average'],
          ['Mon',  10000,      9308,         9654],
          ['Tue',  11200,      13500,        12350],
          ['Wed',  15700,      11607,        13603.5],
          ['Thu',  13900,      10110,        12005],
          ['Fri',  11067,      15700,        13383.5],
          ['Sat',  13090,      11210,        12150],
          ['Sun',  6910,       10360,         8635]
        ]);

        // Create and draw the visualization.
        var ac = new google.visualization.ComboChart(document.getElementById('steps_div'));
        ac.draw(data, {
          title : 'Steps',
          width: '80%',
          height: '100%',
          vAxis: {title: "Steps"},
          hAxis: {title: "Day of Week"},
          seriesType: "bars",
          series: {2: {type: "line"}}
        });
      }

</script>
{% endblock %}

{% block main %}
<div class="span6 chart">
    <h5>Steps Taken</h5>
    <div id="hero-bar" style="height: 250px;"></div>
</div>

<script type="text/javascript">

        // Morris Bar Chart
        Morris.Bar({
            element: 'hero-bar',
            data: [
                {Day: 'Mon', steps: 9654},
                {Day: 'Tue', steps: 12350},
                {Day: 'Wed', steps: 13603.5},
                {Day: 'Thu', steps: 12005},
                {Day: 'Fri', steps: 13383.5},
                {Day: 'Sat', steps: 12150},
                {Day: 'Sun', steps: 8635}
            ],
            xkey: 'Day',
            ykeys: ['steps'],
            labels: ['Steps'],
            barRatio: 0.4,
            xLabelMargin: 10,
            hideHover: 'auto',
            barColors: ["#3d88ba"]
        });
</script>

<!-- <div class="span6">  
  <h4>Physical Activity</h4>
  <div id='phys_div' ></div>
  <div id='steps_div' ></div>
</div> -->
{% endblock %} <!-- End graph -->